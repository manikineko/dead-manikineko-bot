import { setEngine } from "../../../.robo/build/core/ai.js";
import { logger } from "../../../.robo/build/core/logger.js";
import { OpenAiEngine } from "../../../.robo/build/engines/openai/engine.js";
export let options;
/**
 * Converts all portal commands into GPT functions for later use
 */ export default ((_client, pluginOptions)=>{
    options = pluginOptions;
    // OpenAI is the default engine for now
    if (!options.engine) {
        options.engine = new OpenAiEngine();
    }
    setEngine(options.engine);
    // Insights are enabled by default
    if (options.insight === undefined) {
        options.insight = true;
    }
    // Prepare the AI engine in the background
    logger.debug('Initializing AI engine...');
    options.engine.init().then(()=>{
        logger.ready('AI is ready!');
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL3JvYm8uanMvcm9iby5qcy9wYWNrYWdlcy9wbHVnaW4tYWkvc3JjL2V2ZW50cy9fc3RhcnQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc2V0RW5naW5lIH0gZnJvbSAnQC9jb3JlL2FpLmpzJ1xuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnQC9jb3JlL2xvZ2dlci5qcydcbmltcG9ydCB7IE9wZW5BaUVuZ2luZSB9IGZyb20gJ0AvZW5naW5lcy9vcGVuYWkvZW5naW5lLmpzJ1xuaW1wb3J0IHsgQ2xpZW50IH0gZnJvbSAnZGlzY29yZC5qcydcbmltcG9ydCB0eXBlIHsgQmFzZUVuZ2luZSB9IGZyb20gJ0AvZW5naW5lcy9iYXNlLmpzJ1xuXG5leHBvcnQgaW50ZXJmYWNlIFBsdWdpbk9wdGlvbnMge1xuXHRjb21tYW5kcz86IGJvb2xlYW4gfCBzdHJpbmdbXVxuXHRlbmdpbmU/OiBCYXNlRW5naW5lXG5cdGluc2lnaHQ/OiBib29sZWFuXG5cdG1heFRva2Vucz86IG51bWJlclxuXHRtb2RlbD86IHN0cmluZ1xuXHRwb2xsRGVsYXk/OiBudW1iZXJcblx0cmVzdHJpY3Q/OiB7XG5cdFx0Y2hhbm5lbElkczogc3RyaW5nW11cblx0fVxuXHRzeXN0ZW1NZXNzYWdlPzogc3RyaW5nXG5cdHRlbXBlcmF0dXJlPzogbnVtYmVyXG5cdHdoaXRlbGlzdD86IHtcblx0XHRjaGFubmVsSWRzOiBzdHJpbmdbXVxuXHR9XG59XG5cbmV4cG9ydCBsZXQgb3B0aW9uczogUGx1Z2luT3B0aW9uc1xuXG4vKipcbiAqIENvbnZlcnRzIGFsbCBwb3J0YWwgY29tbWFuZHMgaW50byBHUFQgZnVuY3Rpb25zIGZvciBsYXRlciB1c2VcbiAqL1xuZXhwb3J0IGRlZmF1bHQgKF9jbGllbnQ6IENsaWVudCwgcGx1Z2luT3B0aW9uczogUGx1Z2luT3B0aW9ucykgPT4ge1xuXHRvcHRpb25zID0gcGx1Z2luT3B0aW9uc1xuXG5cdC8vIE9wZW5BSSBpcyB0aGUgZGVmYXVsdCBlbmdpbmUgZm9yIG5vd1xuXHRpZiAoIW9wdGlvbnMuZW5naW5lKSB7XG5cdFx0b3B0aW9ucy5lbmdpbmUgPSBuZXcgT3BlbkFpRW5naW5lKClcblx0fVxuXHRzZXRFbmdpbmUob3B0aW9ucy5lbmdpbmUpXG5cblx0Ly8gSW5zaWdodHMgYXJlIGVuYWJsZWQgYnkgZGVmYXVsdFxuXHRpZiAob3B0aW9ucy5pbnNpZ2h0ID09PSB1bmRlZmluZWQpIHtcblx0XHRvcHRpb25zLmluc2lnaHQgPSB0cnVlXG5cdH1cblxuXHQvLyBQcmVwYXJlIHRoZSBBSSBlbmdpbmUgaW4gdGhlIGJhY2tncm91bmRcblx0bG9nZ2VyLmRlYnVnKCdJbml0aWFsaXppbmcgQUkgZW5naW5lLi4uJylcblx0b3B0aW9ucy5lbmdpbmUuaW5pdCgpLnRoZW4oKCkgPT4ge1xuXHRcdGxvZ2dlci5yZWFkeSgnQUkgaXMgcmVhZHkhJylcblx0fSlcbn1cbiJdLCJuYW1lcyI6WyJzZXRFbmdpbmUiLCJsb2dnZXIiLCJPcGVuQWlFbmdpbmUiLCJvcHRpb25zIiwiX2NsaWVudCIsInBsdWdpbk9wdGlvbnMiLCJlbmdpbmUiLCJpbnNpZ2h0IiwidW5kZWZpbmVkIiwiZGVidWciLCJpbml0IiwidGhlbiIsInJlYWR5Il0sIm1hcHBpbmdzIjoiQUFBQSxTQUFTQSxTQUFTLFFBQVEsa0NBQWM7QUFDeEMsU0FBU0MsTUFBTSxRQUFRLHNDQUFrQjtBQUN6QyxTQUFTQyxZQUFZLFFBQVEsZ0RBQTRCO0FBcUJ6RCxPQUFPLElBQUlDLFFBQXNCO0FBRWpDOztDQUVDLEdBQ0QsZUFBZSxDQUFBLENBQUNDLFNBQWlCQyxnQkFBaUM7SUFDakVGLFVBQVVFO0lBRVYsdUNBQXVDO0lBQ3ZDLElBQUksQ0FBQ0YsUUFBUUcsTUFBTSxFQUFFO1FBQ3BCSCxRQUFRRyxNQUFNLEdBQUcsSUFBSUo7SUFDdEIsQ0FBQztJQUNERixVQUFVRyxRQUFRRyxNQUFNO0lBRXhCLGtDQUFrQztJQUNsQyxJQUFJSCxRQUFRSSxPQUFPLEtBQUtDLFdBQVc7UUFDbENMLFFBQVFJLE9BQU8sR0FBRyxJQUFJO0lBQ3ZCLENBQUM7SUFFRCwwQ0FBMEM7SUFDMUNOLE9BQU9RLEtBQUssQ0FBQztJQUNiTixRQUFRRyxNQUFNLENBQUNJLElBQUksR0FBR0MsSUFBSSxDQUFDLElBQU07UUFDaENWLE9BQU9XLEtBQUssQ0FBQztJQUNkO0FBQ0QsQ0FBQSxFQUFDIn0=