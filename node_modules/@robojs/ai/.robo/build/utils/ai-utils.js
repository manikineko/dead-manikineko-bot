import { _engine } from "../../../.robo/build/core/ai.js";
export async function selectOne(selection, choices, options) {
    const { types ='choices'  } = options ?? {};
    const prompt = `Choose one of the following ${types} that best matches "${selection}": ${choices.join(', ')}`;
    const response = await _engine.chat([
        {
            role: 'system',
            content: 'Reply with only the choice name in json format. For example: {"choice": "General"}'
        },
        {
            role: 'user',
            content: prompt
        }
    ], {
        functions: [],
        model: 'gpt-3.5-turbo',
        threadId: null,
        userId: null
    });
    const reply = response.message?.content;
    if (!reply) {
        return null;
    }
    return JSON.parse(reply.trim()).choice;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL3JvYm8uanMvcm9iby5qcy9wYWNrYWdlcy9wbHVnaW4tYWkvc3JjL3V0aWxzL2FpLXV0aWxzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9lbmdpbmUgfSBmcm9tICdAL2NvcmUvYWkuanMnXG5cbmludGVyZmFjZSBTZWxlY3RPbmVPcHRpb25zIHtcblx0dHlwZXM/OiBzdHJpbmdcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZWxlY3RPbmUoXG5cdHNlbGVjdGlvbjogc3RyaW5nLFxuXHRjaG9pY2VzOiBzdHJpbmdbXSxcblx0b3B0aW9ucz86IFNlbGVjdE9uZU9wdGlvbnNcbik6IFByb21pc2U8c3RyaW5nIHwgbnVsbD4ge1xuXHRjb25zdCB7IHR5cGVzID0gJ2Nob2ljZXMnIH0gPSBvcHRpb25zID8/IHt9XG5cdGNvbnN0IHByb21wdCA9IGBDaG9vc2Ugb25lIG9mIHRoZSBmb2xsb3dpbmcgJHt0eXBlc30gdGhhdCBiZXN0IG1hdGNoZXMgXCIke3NlbGVjdGlvbn1cIjogJHtjaG9pY2VzLmpvaW4oJywgJyl9YFxuXG5cdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgX2VuZ2luZS5jaGF0KFxuXHRcdFtcblx0XHRcdHtcblx0XHRcdFx0cm9sZTogJ3N5c3RlbScsXG5cdFx0XHRcdGNvbnRlbnQ6ICdSZXBseSB3aXRoIG9ubHkgdGhlIGNob2ljZSBuYW1lIGluIGpzb24gZm9ybWF0LiBGb3IgZXhhbXBsZToge1wiY2hvaWNlXCI6IFwiR2VuZXJhbFwifSdcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdHJvbGU6ICd1c2VyJyxcblx0XHRcdFx0Y29udGVudDogcHJvbXB0XG5cdFx0XHR9XG5cdFx0XSxcblx0XHR7XG5cdFx0XHRmdW5jdGlvbnM6IFtdLFxuXHRcdFx0bW9kZWw6ICdncHQtMy41LXR1cmJvJyxcblx0XHRcdHRocmVhZElkOiBudWxsLFxuXHRcdFx0dXNlcklkOiBudWxsXG5cdFx0fVxuXHQpXG5cdGNvbnN0IHJlcGx5ID0gcmVzcG9uc2UubWVzc2FnZT8uY29udGVudCBhcyBzdHJpbmdcblxuXHRpZiAoIXJlcGx5KSB7XG5cdFx0cmV0dXJuIG51bGxcblx0fVxuXG5cdHJldHVybiBKU09OLnBhcnNlKHJlcGx5LnRyaW0oKSkuY2hvaWNlXG59XG4iXSwibmFtZXMiOlsiX2VuZ2luZSIsInNlbGVjdE9uZSIsInNlbGVjdGlvbiIsImNob2ljZXMiLCJvcHRpb25zIiwidHlwZXMiLCJwcm9tcHQiLCJqb2luIiwicmVzcG9uc2UiLCJjaGF0Iiwicm9sZSIsImNvbnRlbnQiLCJmdW5jdGlvbnMiLCJtb2RlbCIsInRocmVhZElkIiwidXNlcklkIiwicmVwbHkiLCJtZXNzYWdlIiwiSlNPTiIsInBhcnNlIiwidHJpbSIsImNob2ljZSJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBU0EsT0FBTyxRQUFRLGtDQUFjO0FBS3RDLE9BQU8sZUFBZUMsVUFDckJDLFNBQWlCLEVBQ2pCQyxPQUFpQixFQUNqQkMsT0FBMEIsRUFDRDtJQUN6QixNQUFNLEVBQUVDLE9BQVEsVUFBUyxFQUFFLEdBQUdELFdBQVcsQ0FBQztJQUMxQyxNQUFNRSxTQUFTLENBQUMsNEJBQTRCLEVBQUVELE1BQU0sb0JBQW9CLEVBQUVILFVBQVUsR0FBRyxFQUFFQyxRQUFRSSxJQUFJLENBQUMsTUFBTSxDQUFDO0lBRTdHLE1BQU1DLFdBQVcsTUFBTVIsUUFBUVMsSUFBSSxDQUNsQztRQUNDO1lBQ0NDLE1BQU07WUFDTkMsU0FBUztRQUNWO1FBQ0E7WUFDQ0QsTUFBTTtZQUNOQyxTQUFTTDtRQUNWO0tBQ0EsRUFDRDtRQUNDTSxXQUFXLEVBQUU7UUFDYkMsT0FBTztRQUNQQyxVQUFVLElBQUk7UUFDZEMsUUFBUSxJQUFJO0lBQ2I7SUFFRCxNQUFNQyxRQUFRUixTQUFTUyxPQUFPLEVBQUVOO0lBRWhDLElBQUksQ0FBQ0ssT0FBTztRQUNYLE9BQU8sSUFBSTtJQUNaLENBQUM7SUFFRCxPQUFPRSxLQUFLQyxLQUFLLENBQUNILE1BQU1JLElBQUksSUFBSUMsTUFBTTtBQUN2QyxDQUFDIn0=