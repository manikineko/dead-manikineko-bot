import { autocompleteDeleteMessages, deleteMessagesOptions } from '../../core/constants.js';
import { deleteRecentUserMessages, logAction } from '../../core/utils.js';
import { getSettings } from '../../core/settings.js';
import { logger } from 'robo.js';
import { Colors, PermissionFlagsBits } from 'discord.js';
export const config = {
    defaultMemberPermissions: PermissionFlagsBits.KickMembers,
    description: `Kick a member from the server`,
    dmPermission: false,
    options: [
        {
            name: 'member',
            description: 'The @member to kick',
            type: 'user',
            required: true
        },
        {
            name: 'reason',
            description: 'The reason for the kick',
            type: 'string'
        },
        {
            name: 'delete_messages',
            description: 'How much of their recent message history to delete',
            autocomplete: true
        },
        {
            name: 'anonymous',
            description: 'Whether to execute the kick anonymously',
            type: 'boolean'
        }
    ]
};
export default (async (interaction)=>{
    const anonymous = (interaction.options.get('anonymous')?.value) ?? false;
    const deleteMessages = interaction.options.get('delete_messages')?.value;
    const user = interaction.options.getUser('member');
    const reason = interaction.options.get('reason')?.value;
    // Validate the command
    if (!interaction.guild) {
        return 'This command can only be used in a server';
    } else if (deleteMessages && !deleteMessagesOptions.map((option)=>option.value).includes(deleteMessages)) {
        return 'Invalid delete_messages option';
    } else if (!user || interaction.memberPermissions === null) {
        return 'Invalid command usage';
    } else if (user.id === interaction.user.id) {
        return 'Sorry, you cannot kick yourself';
    } else if (user.id === interaction.client.user?.id) {
        return 'Sorry, you cannot kick me';
    } else if (user.id === interaction.guild.ownerId) {
        return 'Sorry, I cannot kick the owner';
    }
    // Validate permissions
    if ((interaction.memberPermissions.bitfield & PermissionFlagsBits.BanMembers) !== PermissionFlagsBits.BanMembers) {
        return 'You do not have permission to ban members';
    }
    // Get settings
    const { logsChannelId , testMode  } = getSettings(interaction.guildId);
    // Do the actual kick - Sayonara!
    if (!testMode) {
        await interaction.guild.members.kick(user, reason);
        logger.info(`Kicked`, user, `for`, reason, `in guild`, interaction.guild.name);
    }
    // Prepare response embed fields
    const fields = [
        {
            name: 'Member',
            value: user.toString()
        },
        {
            name: 'Reason',
            value: reason || 'No reason provided'
        }
    ];
    // This can be achieved by fetching all channels and then fetching the last n messages from each channel asynchronously
    if (deleteMessages) {
        fields.push({
            name: 'Messages Deleted',
            value: deleteMessages
        });
    }
    // Delete messages if requested in the background
    if (deleteMessages && !testMode) {
        deleteRecentUserMessages(interaction.guild, user.id);
    }
    // Prepare message payload
    const deleted = deleteMessagesOptions.find((option)=>option.value === deleteMessages)?.name;
    const messagePayload = {
        embeds: [
            {
                color: Colors.Red,
                title: `${user.username} was kicked`,
                thumbnail: {
                    url: user.displayAvatarURL()
                },
                fields: [
                    {
                        name: 'Member',
                        value: user.toString()
                    },
                    {
                        name: 'Reason',
                        value: reason ?? 'No reason provided'
                    },
                    {
                        name: 'Messages Deleted',
                        value: deleted ?? 'None'
                    }
                ]
            }
        ]
    };
    // Log action to modlogs channel if this is not it
    if (interaction.channelId !== logsChannelId) {
        const testPrefix = testMode ? '[TEST] ' : '';
        await logAction(interaction.guildId, {
            embeds: [
                {
                    title: testPrefix + `${user.username} was kicked`,
                    thumbnail: {
                        url: user.displayAvatarURL()
                    },
                    description: `${user} was kicked`,
                    color: Colors.Red,
                    timestamp: new Date().toISOString(),
                    footer: {
                        icon_url: interaction.user.displayAvatarURL(),
                        text: 'by @' + interaction.user.username
                    }
                }
            ]
        });
    }
    // Test mode - don't actually kick
    if (testMode) {
        return {
            embeds: [
                {
                    title: 'Test mode',
                    description: 'This is a test. No action has been taken.',
                    color: Colors.Yellow,
                    footer: {
                        text: (logsChannelId ? 'See' : 'Setup') + ` modlogs channel for details`
                    }
                }
            ],
            ephemeral: true
        };
    }
    // Send the message
    if (anonymous) {
        await interaction.channel?.send(messagePayload);
        return {
            content: 'Kick has been executed.',
            ephemeral: true
        };
    }
    return messagePayload;
});
export const autocomplete = autocompleteDeleteMessages;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL3JvYm8uanMvcm9iby5qcy9wYWNrYWdlcy9wbHVnaW4tbW9kdG9vbHMvc3JjL2NvbW1hbmRzL21vZC9raWNrLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGF1dG9jb21wbGV0ZURlbGV0ZU1lc3NhZ2VzLCBkZWxldGVNZXNzYWdlc09wdGlvbnMgfSBmcm9tICcuLi8uLi9jb3JlL2NvbnN0YW50cy5qcydcbmltcG9ydCB7IGRlbGV0ZVJlY2VudFVzZXJNZXNzYWdlcywgbG9nQWN0aW9uIH0gZnJvbSAnLi4vLi4vY29yZS91dGlscy5qcydcbmltcG9ydCB7IGdldFNldHRpbmdzIH0gZnJvbSAnLi4vLi4vY29yZS9zZXR0aW5ncy5qcydcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJ3JvYm8uanMnXG5pbXBvcnQgeyBDb2xvcnMsIFBlcm1pc3Npb25GbGFnc0JpdHMgfSBmcm9tICdkaXNjb3JkLmpzJ1xuaW1wb3J0IHR5cGUgeyBDb21tYW5kQ29uZmlnLCBDb21tYW5kUmVzdWx0IH0gZnJvbSAncm9iby5qcydcbmltcG9ydCB0eXBlIHsgQ29tbWFuZEludGVyYWN0aW9uLCBNZXNzYWdlQ3JlYXRlT3B0aW9ucyB9IGZyb20gJ2Rpc2NvcmQuanMnXG5cbmV4cG9ydCBjb25zdCBjb25maWc6IENvbW1hbmRDb25maWcgPSB7XG5cdGRlZmF1bHRNZW1iZXJQZXJtaXNzaW9uczogUGVybWlzc2lvbkZsYWdzQml0cy5LaWNrTWVtYmVycyxcblx0ZGVzY3JpcHRpb246IGBLaWNrIGEgbWVtYmVyIGZyb20gdGhlIHNlcnZlcmAsXG5cdGRtUGVybWlzc2lvbjogZmFsc2UsXG5cdG9wdGlvbnM6IFtcblx0XHR7XG5cdFx0XHRuYW1lOiAnbWVtYmVyJyxcblx0XHRcdGRlc2NyaXB0aW9uOiAnVGhlIEBtZW1iZXIgdG8ga2ljaycsXG5cdFx0XHR0eXBlOiAndXNlcicsXG5cdFx0XHRyZXF1aXJlZDogdHJ1ZVxuXHRcdH0sXG5cdFx0e1xuXHRcdFx0bmFtZTogJ3JlYXNvbicsXG5cdFx0XHRkZXNjcmlwdGlvbjogJ1RoZSByZWFzb24gZm9yIHRoZSBraWNrJyxcblx0XHRcdHR5cGU6ICdzdHJpbmcnXG5cdFx0fSxcblx0XHR7XG5cdFx0XHRuYW1lOiAnZGVsZXRlX21lc3NhZ2VzJyxcblx0XHRcdGRlc2NyaXB0aW9uOiAnSG93IG11Y2ggb2YgdGhlaXIgcmVjZW50IG1lc3NhZ2UgaGlzdG9yeSB0byBkZWxldGUnLFxuXHRcdFx0YXV0b2NvbXBsZXRlOiB0cnVlXG5cdFx0fSxcblx0XHR7XG5cdFx0XHRuYW1lOiAnYW5vbnltb3VzJyxcblx0XHRcdGRlc2NyaXB0aW9uOiAnV2hldGhlciB0byBleGVjdXRlIHRoZSBraWNrIGFub255bW91c2x5Jyxcblx0XHRcdHR5cGU6ICdib29sZWFuJ1xuXHRcdH1cblx0XVxufVxuXG5leHBvcnQgZGVmYXVsdCBhc3luYyAoaW50ZXJhY3Rpb246IENvbW1hbmRJbnRlcmFjdGlvbik6IFByb21pc2U8Q29tbWFuZFJlc3VsdD4gPT4ge1xuXHRjb25zdCBhbm9ueW1vdXMgPSAoaW50ZXJhY3Rpb24ub3B0aW9ucy5nZXQoJ2Fub255bW91cycpPy52YWx1ZSBhcyBib29sZWFuKSA/PyBmYWxzZVxuXHRjb25zdCBkZWxldGVNZXNzYWdlcyA9IGludGVyYWN0aW9uLm9wdGlvbnMuZ2V0KCdkZWxldGVfbWVzc2FnZXMnKT8udmFsdWUgYXMgc3RyaW5nXG5cdGNvbnN0IHVzZXIgPSBpbnRlcmFjdGlvbi5vcHRpb25zLmdldFVzZXIoJ21lbWJlcicpXG5cdGNvbnN0IHJlYXNvbiA9IGludGVyYWN0aW9uLm9wdGlvbnMuZ2V0KCdyZWFzb24nKT8udmFsdWUgYXMgc3RyaW5nXG5cblx0Ly8gVmFsaWRhdGUgdGhlIGNvbW1hbmRcblx0aWYgKCFpbnRlcmFjdGlvbi5ndWlsZCkge1xuXHRcdHJldHVybiAnVGhpcyBjb21tYW5kIGNhbiBvbmx5IGJlIHVzZWQgaW4gYSBzZXJ2ZXInXG5cdH0gZWxzZSBpZiAoZGVsZXRlTWVzc2FnZXMgJiYgIWRlbGV0ZU1lc3NhZ2VzT3B0aW9ucy5tYXAoKG9wdGlvbikgPT4gb3B0aW9uLnZhbHVlKS5pbmNsdWRlcyhkZWxldGVNZXNzYWdlcykpIHtcblx0XHRyZXR1cm4gJ0ludmFsaWQgZGVsZXRlX21lc3NhZ2VzIG9wdGlvbidcblx0fSBlbHNlIGlmICghdXNlciB8fCBpbnRlcmFjdGlvbi5tZW1iZXJQZXJtaXNzaW9ucyA9PT0gbnVsbCkge1xuXHRcdHJldHVybiAnSW52YWxpZCBjb21tYW5kIHVzYWdlJ1xuXHR9IGVsc2UgaWYgKHVzZXIuaWQgPT09IGludGVyYWN0aW9uLnVzZXIuaWQpIHtcblx0XHRyZXR1cm4gJ1NvcnJ5LCB5b3UgY2Fubm90IGtpY2sgeW91cnNlbGYnXG5cdH0gZWxzZSBpZiAodXNlci5pZCA9PT0gaW50ZXJhY3Rpb24uY2xpZW50LnVzZXI/LmlkKSB7XG5cdFx0cmV0dXJuICdTb3JyeSwgeW91IGNhbm5vdCBraWNrIG1lJ1xuXHR9IGVsc2UgaWYgKHVzZXIuaWQgPT09IGludGVyYWN0aW9uLmd1aWxkLm93bmVySWQpIHtcblx0XHRyZXR1cm4gJ1NvcnJ5LCBJIGNhbm5vdCBraWNrIHRoZSBvd25lcidcblx0fVxuXG5cdC8vIFZhbGlkYXRlIHBlcm1pc3Npb25zXG5cdGlmICgoaW50ZXJhY3Rpb24ubWVtYmVyUGVybWlzc2lvbnMuYml0ZmllbGQgJiBQZXJtaXNzaW9uRmxhZ3NCaXRzLkJhbk1lbWJlcnMpICE9PSBQZXJtaXNzaW9uRmxhZ3NCaXRzLkJhbk1lbWJlcnMpIHtcblx0XHRyZXR1cm4gJ1lvdSBkbyBub3QgaGF2ZSBwZXJtaXNzaW9uIHRvIGJhbiBtZW1iZXJzJ1xuXHR9XG5cblx0Ly8gR2V0IHNldHRpbmdzXG5cdGNvbnN0IHsgbG9nc0NoYW5uZWxJZCwgdGVzdE1vZGUgfSA9IGdldFNldHRpbmdzKGludGVyYWN0aW9uLmd1aWxkSWQpXG5cblx0Ly8gRG8gdGhlIGFjdHVhbCBraWNrIC0gU2F5b25hcmEhXG5cdGlmICghdGVzdE1vZGUpIHtcblx0XHRhd2FpdCBpbnRlcmFjdGlvbi5ndWlsZC5tZW1iZXJzLmtpY2sodXNlciwgcmVhc29uKVxuXHRcdGxvZ2dlci5pbmZvKGBLaWNrZWRgLCB1c2VyLCBgZm9yYCwgcmVhc29uLCBgaW4gZ3VpbGRgLCBpbnRlcmFjdGlvbi5ndWlsZC5uYW1lKVxuXHR9XG5cblx0Ly8gUHJlcGFyZSByZXNwb25zZSBlbWJlZCBmaWVsZHNcblx0Y29uc3QgZmllbGRzID0gW1xuXHRcdHtcblx0XHRcdG5hbWU6ICdNZW1iZXInLFxuXHRcdFx0dmFsdWU6IHVzZXIudG9TdHJpbmcoKVxuXHRcdH0sXG5cdFx0e1xuXHRcdFx0bmFtZTogJ1JlYXNvbicsXG5cdFx0XHR2YWx1ZTogcmVhc29uIHx8ICdObyByZWFzb24gcHJvdmlkZWQnXG5cdFx0fVxuXHRdXG5cblx0Ly8gVGhpcyBjYW4gYmUgYWNoaWV2ZWQgYnkgZmV0Y2hpbmcgYWxsIGNoYW5uZWxzIGFuZCB0aGVuIGZldGNoaW5nIHRoZSBsYXN0IG4gbWVzc2FnZXMgZnJvbSBlYWNoIGNoYW5uZWwgYXN5bmNocm9ub3VzbHlcblx0aWYgKGRlbGV0ZU1lc3NhZ2VzKSB7XG5cdFx0ZmllbGRzLnB1c2goe1xuXHRcdFx0bmFtZTogJ01lc3NhZ2VzIERlbGV0ZWQnLFxuXHRcdFx0dmFsdWU6IGRlbGV0ZU1lc3NhZ2VzXG5cdFx0fSlcblx0fVxuXG5cdC8vIERlbGV0ZSBtZXNzYWdlcyBpZiByZXF1ZXN0ZWQgaW4gdGhlIGJhY2tncm91bmRcblx0aWYgKGRlbGV0ZU1lc3NhZ2VzICYmICF0ZXN0TW9kZSkge1xuXHRcdGRlbGV0ZVJlY2VudFVzZXJNZXNzYWdlcyhpbnRlcmFjdGlvbi5ndWlsZCwgdXNlci5pZClcblx0fVxuXG5cdC8vIFByZXBhcmUgbWVzc2FnZSBwYXlsb2FkXG5cdGNvbnN0IGRlbGV0ZWQgPSBkZWxldGVNZXNzYWdlc09wdGlvbnMuZmluZCgob3B0aW9uKSA9PiBvcHRpb24udmFsdWUgPT09IGRlbGV0ZU1lc3NhZ2VzKT8ubmFtZVxuXHRjb25zdCBtZXNzYWdlUGF5bG9hZDogQ29tbWFuZFJlc3VsdCA9IHtcblx0XHRlbWJlZHM6IFtcblx0XHRcdHtcblx0XHRcdFx0Y29sb3I6IENvbG9ycy5SZWQsXG5cdFx0XHRcdHRpdGxlOiBgJHt1c2VyLnVzZXJuYW1lfSB3YXMga2lja2VkYCxcblx0XHRcdFx0dGh1bWJuYWlsOiB7XG5cdFx0XHRcdFx0dXJsOiB1c2VyLmRpc3BsYXlBdmF0YXJVUkwoKVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRmaWVsZHM6IFtcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRuYW1lOiAnTWVtYmVyJyxcblx0XHRcdFx0XHRcdHZhbHVlOiB1c2VyLnRvU3RyaW5nKClcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdG5hbWU6ICdSZWFzb24nLFxuXHRcdFx0XHRcdFx0dmFsdWU6IHJlYXNvbiA/PyAnTm8gcmVhc29uIHByb3ZpZGVkJ1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0bmFtZTogJ01lc3NhZ2VzIERlbGV0ZWQnLFxuXHRcdFx0XHRcdFx0dmFsdWU6IGRlbGV0ZWQgPz8gJ05vbmUnXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRdXG5cdFx0XHR9XG5cdFx0XVxuXHR9XG5cblx0Ly8gTG9nIGFjdGlvbiB0byBtb2Rsb2dzIGNoYW5uZWwgaWYgdGhpcyBpcyBub3QgaXRcblx0aWYgKGludGVyYWN0aW9uLmNoYW5uZWxJZCAhPT0gbG9nc0NoYW5uZWxJZCkge1xuXHRcdGNvbnN0IHRlc3RQcmVmaXggPSB0ZXN0TW9kZSA/ICdbVEVTVF0gJyA6ICcnXG5cdFx0YXdhaXQgbG9nQWN0aW9uKGludGVyYWN0aW9uLmd1aWxkSWQsIHtcblx0XHRcdGVtYmVkczogW1xuXHRcdFx0XHR7XG5cdFx0XHRcdFx0dGl0bGU6IHRlc3RQcmVmaXggKyBgJHt1c2VyLnVzZXJuYW1lfSB3YXMga2lja2VkYCxcblx0XHRcdFx0XHR0aHVtYm5haWw6IHtcblx0XHRcdFx0XHRcdHVybDogdXNlci5kaXNwbGF5QXZhdGFyVVJMKClcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdGRlc2NyaXB0aW9uOiBgJHt1c2VyfSB3YXMga2lja2VkYCxcblx0XHRcdFx0XHRjb2xvcjogQ29sb3JzLlJlZCxcblx0XHRcdFx0XHR0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdFx0XHRmb290ZXI6IHtcblx0XHRcdFx0XHRcdGljb25fdXJsOiBpbnRlcmFjdGlvbi51c2VyLmRpc3BsYXlBdmF0YXJVUkwoKSxcblx0XHRcdFx0XHRcdHRleHQ6ICdieSBAJyArIGludGVyYWN0aW9uLnVzZXIudXNlcm5hbWVcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdF1cblx0XHR9KVxuXHR9XG5cblx0Ly8gVGVzdCBtb2RlIC0gZG9uJ3QgYWN0dWFsbHkga2lja1xuXHRpZiAodGVzdE1vZGUpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0ZW1iZWRzOiBbXG5cdFx0XHRcdHtcblx0XHRcdFx0XHR0aXRsZTogJ1Rlc3QgbW9kZScsXG5cdFx0XHRcdFx0ZGVzY3JpcHRpb246ICdUaGlzIGlzIGEgdGVzdC4gTm8gYWN0aW9uIGhhcyBiZWVuIHRha2VuLicsXG5cdFx0XHRcdFx0Y29sb3I6IENvbG9ycy5ZZWxsb3csXG5cdFx0XHRcdFx0Zm9vdGVyOiB7XG5cdFx0XHRcdFx0XHR0ZXh0OiAobG9nc0NoYW5uZWxJZCA/ICdTZWUnIDogJ1NldHVwJykgKyBgIG1vZGxvZ3MgY2hhbm5lbCBmb3IgZGV0YWlsc2Bcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdF0sXG5cdFx0XHRlcGhlbWVyYWw6IHRydWVcblx0XHR9XG5cdH1cblxuXHQvLyBTZW5kIHRoZSBtZXNzYWdlXG5cdGlmIChhbm9ueW1vdXMpIHtcblx0XHRhd2FpdCBpbnRlcmFjdGlvbi5jaGFubmVsPy5zZW5kKG1lc3NhZ2VQYXlsb2FkIGFzIE1lc3NhZ2VDcmVhdGVPcHRpb25zKVxuXG5cdFx0cmV0dXJuIHtcblx0XHRcdGNvbnRlbnQ6ICdLaWNrIGhhcyBiZWVuIGV4ZWN1dGVkLicsXG5cdFx0XHRlcGhlbWVyYWw6IHRydWVcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gbWVzc2FnZVBheWxvYWRcbn1cblxuZXhwb3J0IGNvbnN0IGF1dG9jb21wbGV0ZSA9IGF1dG9jb21wbGV0ZURlbGV0ZU1lc3NhZ2VzXG4iXSwibmFtZXMiOlsiYXV0b2NvbXBsZXRlRGVsZXRlTWVzc2FnZXMiLCJkZWxldGVNZXNzYWdlc09wdGlvbnMiLCJkZWxldGVSZWNlbnRVc2VyTWVzc2FnZXMiLCJsb2dBY3Rpb24iLCJnZXRTZXR0aW5ncyIsImxvZ2dlciIsIkNvbG9ycyIsIlBlcm1pc3Npb25GbGFnc0JpdHMiLCJjb25maWciLCJkZWZhdWx0TWVtYmVyUGVybWlzc2lvbnMiLCJLaWNrTWVtYmVycyIsImRlc2NyaXB0aW9uIiwiZG1QZXJtaXNzaW9uIiwib3B0aW9ucyIsIm5hbWUiLCJ0eXBlIiwicmVxdWlyZWQiLCJhdXRvY29tcGxldGUiLCJpbnRlcmFjdGlvbiIsImFub255bW91cyIsImdldCIsInZhbHVlIiwiZGVsZXRlTWVzc2FnZXMiLCJ1c2VyIiwiZ2V0VXNlciIsInJlYXNvbiIsImd1aWxkIiwibWFwIiwib3B0aW9uIiwiaW5jbHVkZXMiLCJtZW1iZXJQZXJtaXNzaW9ucyIsImlkIiwiY2xpZW50Iiwib3duZXJJZCIsImJpdGZpZWxkIiwiQmFuTWVtYmVycyIsImxvZ3NDaGFubmVsSWQiLCJ0ZXN0TW9kZSIsImd1aWxkSWQiLCJtZW1iZXJzIiwia2ljayIsImluZm8iLCJmaWVsZHMiLCJ0b1N0cmluZyIsInB1c2giLCJkZWxldGVkIiwiZmluZCIsIm1lc3NhZ2VQYXlsb2FkIiwiZW1iZWRzIiwiY29sb3IiLCJSZWQiLCJ0aXRsZSIsInVzZXJuYW1lIiwidGh1bWJuYWlsIiwidXJsIiwiZGlzcGxheUF2YXRhclVSTCIsImNoYW5uZWxJZCIsInRlc3RQcmVmaXgiLCJ0aW1lc3RhbXAiLCJEYXRlIiwidG9JU09TdHJpbmciLCJmb290ZXIiLCJpY29uX3VybCIsInRleHQi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