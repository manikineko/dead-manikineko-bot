export default ((client, options)=>{
    const { deletePolls  } = options;
    client.on('raw', async (event)=>{
        // Only listen to new message events
        if (!deletePolls || event.t !== 'MESSAGE_CREATE') {
            return;
        }
        // Delete poll messages
        const { d: message  } = event;
        if (message.poll) {
            const channel = client.channels.cache.get(message.channel_id);
            channel?.messages.delete(message.id);
        }
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL3JvYm8uanMvcm9iby5qcy9wYWNrYWdlcy9wbHVnaW4tbW9kdG9vbHMvc3JjL2V2ZW50cy9fc3RhcnQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBDbGllbnQsIFRleHRDaGFubmVsIH0gZnJvbSAnZGlzY29yZC5qcydcblxuaW50ZXJmYWNlIFBsdWdpbk9wdGlvbnMge1xuXHRkZWxldGVQb2xscz86IGJvb2xlYW5cbn1cblxuZXhwb3J0IGRlZmF1bHQgKGNsaWVudDogQ2xpZW50LCBvcHRpb25zOiBQbHVnaW5PcHRpb25zKSA9PiB7XG5cdGNvbnN0IHsgZGVsZXRlUG9sbHMgfSA9IG9wdGlvbnNcblxuXHRjbGllbnQub24oJ3JhdycsIGFzeW5jIChldmVudCkgPT4ge1xuXHRcdC8vIE9ubHkgbGlzdGVuIHRvIG5ldyBtZXNzYWdlIGV2ZW50c1xuXHRcdGlmICghZGVsZXRlUG9sbHMgfHwgZXZlbnQudCAhPT0gJ01FU1NBR0VfQ1JFQVRFJykge1xuXHRcdFx0cmV0dXJuXG5cdFx0fVxuXG5cdFx0Ly8gRGVsZXRlIHBvbGwgbWVzc2FnZXNcblx0XHRjb25zdCB7IGQ6IG1lc3NhZ2UgfSA9IGV2ZW50XG5cblx0XHRpZiAobWVzc2FnZS5wb2xsKSB7XG5cdFx0XHRjb25zdCBjaGFubmVsID0gY2xpZW50LmNoYW5uZWxzLmNhY2hlLmdldChtZXNzYWdlLmNoYW5uZWxfaWQpIGFzIFRleHRDaGFubmVsXG5cdFx0XHRjaGFubmVsPy5tZXNzYWdlcy5kZWxldGUobWVzc2FnZS5pZClcblx0XHR9XG5cdH0pXG59XG4iXSwibmFtZXMiOlsiY2xpZW50Iiwib3B0aW9ucyIsImRlbGV0ZVBvbGxzIiwib24iLCJldmVudCIsInQiLCJkIiwibWVzc2FnZSIsInBvbGwiLCJjaGFubmVsIiwiY2hhbm5lbHMiLCJjYWNoZSIsImdldCIsImNoYW5uZWxfaWQiLCJtZXNzYWdlcyIsImRlbGV0ZSIsImlkIl0sIm1hcHBpbmdzIjoiQUFNQSxlQUFlLENBQUEsQ0FBQ0EsUUFBZ0JDLFVBQTJCO0lBQzFELE1BQU0sRUFBRUMsWUFBVyxFQUFFLEdBQUdEO0lBRXhCRCxPQUFPRyxFQUFFLENBQUMsT0FBTyxPQUFPQyxRQUFVO1FBQ2pDLG9DQUFvQztRQUNwQyxJQUFJLENBQUNGLGVBQWVFLE1BQU1DLENBQUMsS0FBSyxrQkFBa0I7WUFDakQ7UUFDRCxDQUFDO1FBRUQsdUJBQXVCO1FBQ3ZCLE1BQU0sRUFBRUMsR0FBR0MsUUFBTyxFQUFFLEdBQUdIO1FBRXZCLElBQUlHLFFBQVFDLElBQUksRUFBRTtZQUNqQixNQUFNQyxVQUFVVCxPQUFPVSxRQUFRLENBQUNDLEtBQUssQ0FBQ0MsR0FBRyxDQUFDTCxRQUFRTSxVQUFVO1lBQzVESixTQUFTSyxTQUFTQyxNQUFNLENBQUNSLFFBQVFTLEVBQUU7UUFDcEMsQ0FBQztJQUNGO0FBQ0QsQ0FBQSxFQUFDIn0=