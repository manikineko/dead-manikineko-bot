import { Modals, TextInputs } from '../../core/constants.js';
import { logAction } from '../../core/utils.js';
import { getSettings } from '../../core/settings.js';
import { getState, logger, setState } from 'robo.js';
import { ChannelType, Colors } from 'discord.js';
export const config = {
    description: `Submits a report to the modmail channel when the report message modal is submitted`
};
export default (async (interaction)=>{
    // Only handle interaction meant for this file
    if (!interaction.isModalSubmit() || interaction.customId !== Modals.ReportMessage.id) {
        return;
    }
    // Validate modmail channel
    const { mailChannelId  } = getSettings(interaction.guildId);
    if (!mailChannelId) {
        logger.debug(`No modmail channel set for guild ${interaction.guildId}`);
        return {
            embeds: [
                {
                    title: 'Oops, something went wrong',
                    description: `No modmail channel has set up for this server. Please contact a moderator.`,
                    color: Colors.Red
                }
            ],
            ephemeral: true
        };
    }
    const mailChannel = interaction.guild?.channels?.cache?.get(mailChannelId);
    if (!mailChannel || mailChannel.type !== ChannelType.GuildText) {
        logger.debug(`Invalid modmail channel for guild ${interaction.guildId}`);
        return {
            embeds: [
                {
                    title: 'Oops, something went wrong',
                    description: `Invalid modmail channel set up for this server. Please contact a moderator.`,
                    color: Colors.Red
                }
            ],
            ephemeral: true
        };
    }
    // Get message state and reason
    const reason = interaction.fields.getTextInputValue(TextInputs.ReportReason.id);
    const message = getState('report-message', {
        namespace: interaction.guildId + '-' + interaction.user.id
    });
    // Validate message
    if (!message) {
        logger.debug(`No message found for guild ${interaction.guildId}`);
        return {
            embeds: [
                {
                    title: 'Oops, something went wrong',
                    description: `No message found. Please try again.`,
                    color: Colors.Red
                }
            ],
            ephemeral: true
        };
    }
    // Submit report to modmail channel
    await mailChannel.send({
        embeds: [
            {
                title: `Report from anonymous user`,
                color: Colors.Yellow,
                thumbnail: {
                    url: message.author.displayAvatarURL()
                },
                fields: [
                    {
                        name: 'Reported member',
                        value: message.author.toString()
                    },
                    {
                        name: 'Reported message',
                        value: message.content
                    },
                    {
                        name: 'Reason',
                        value: reason
                    },
                    {
                        name: 'Message link',
                        value: `https://discord.com/channels/${interaction.guildId}/${message.channelId}/${message.id}`
                    }
                ],
                timestamp: new Date().toISOString(),
                footer: {
                    text: 'by anonymous user'
                }
            }
        ]
    });
    // Log action to modlogs channel
    logger.debug(`Report submitted to modmail channel for guild ${interaction.guildId}`);
    logAction(interaction.guildId, {
        embeds: [
            {
                title: `Report from anonymous user`,
                color: Colors.Yellow,
                thumbnail: {
                    url: message.author.displayAvatarURL()
                },
                fields: [
                    {
                        name: 'Reported member',
                        value: message.author.toString()
                    },
                    {
                        name: 'Reported message',
                        value: message.content
                    },
                    {
                        name: 'Reason',
                        value: reason
                    },
                    {
                        name: 'Message link',
                        value: `https://discord.com/channels/${interaction.guildId}/${message.channelId}/${message.id}`
                    }
                ],
                timestamp: new Date().toISOString(),
                footer: {
                    text: 'by anonymous user'
                }
            }
        ]
    });
    // Clean up and follow up
    setState('report-message', undefined, {
        namespace: interaction.guildId + '-' + interaction.user.id
    });
    interaction.reply({
        content: 'Thank you for your report. A moderator will review it shortly.',
        ephemeral: true
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL3JvYm8uanMvcm9iby5qcy9wYWNrYWdlcy9wbHVnaW4tbW9kdG9vbHMvc3JjL2V2ZW50cy9pbnRlcmFjdGlvbkNyZWF0ZS9tb2RhbC1yZXBvcnQtbWVzc2FnZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNb2RhbHMsIFRleHRJbnB1dHMgfSBmcm9tICcuLi8uLi9jb3JlL2NvbnN0YW50cy5qcydcbmltcG9ydCB7IGxvZ0FjdGlvbiB9IGZyb20gJy4uLy4uL2NvcmUvdXRpbHMuanMnXG5pbXBvcnQgeyBnZXRTZXR0aW5ncyB9IGZyb20gJy4uLy4uL2NvcmUvc2V0dGluZ3MuanMnXG5pbXBvcnQgeyBnZXRTdGF0ZSwgbG9nZ2VyLCBzZXRTdGF0ZSB9IGZyb20gJ3JvYm8uanMnXG5pbXBvcnQgeyBDaGFubmVsVHlwZSwgQ29sb3JzIH0gZnJvbSAnZGlzY29yZC5qcydcbmltcG9ydCB0eXBlIHsgRXZlbnRDb25maWcgfSBmcm9tICdyb2JvLmpzJ1xuaW1wb3J0IHR5cGUgeyBNZXNzYWdlLCBNb2RhbFN1Ym1pdEludGVyYWN0aW9uIH0gZnJvbSAnZGlzY29yZC5qcydcblxuZXhwb3J0IGNvbnN0IGNvbmZpZzogRXZlbnRDb25maWcgPSB7XG5cdGRlc2NyaXB0aW9uOiBgU3VibWl0cyBhIHJlcG9ydCB0byB0aGUgbW9kbWFpbCBjaGFubmVsIHdoZW4gdGhlIHJlcG9ydCBtZXNzYWdlIG1vZGFsIGlzIHN1Ym1pdHRlZGBcbn1cblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgKGludGVyYWN0aW9uOiBNb2RhbFN1Ym1pdEludGVyYWN0aW9uKSA9PiB7XG5cdC8vIE9ubHkgaGFuZGxlIGludGVyYWN0aW9uIG1lYW50IGZvciB0aGlzIGZpbGVcblx0aWYgKCFpbnRlcmFjdGlvbi5pc01vZGFsU3VibWl0KCkgfHwgaW50ZXJhY3Rpb24uY3VzdG9tSWQgIT09IE1vZGFscy5SZXBvcnRNZXNzYWdlLmlkKSB7XG5cdFx0cmV0dXJuXG5cdH1cblxuXHQvLyBWYWxpZGF0ZSBtb2RtYWlsIGNoYW5uZWxcblx0Y29uc3QgeyBtYWlsQ2hhbm5lbElkIH0gPSBnZXRTZXR0aW5ncyhpbnRlcmFjdGlvbi5ndWlsZElkKVxuXHRpZiAoIW1haWxDaGFubmVsSWQpIHtcblx0XHRsb2dnZXIuZGVidWcoYE5vIG1vZG1haWwgY2hhbm5lbCBzZXQgZm9yIGd1aWxkICR7aW50ZXJhY3Rpb24uZ3VpbGRJZH1gKVxuXHRcdHJldHVybiB7XG5cdFx0XHRlbWJlZHM6IFtcblx0XHRcdFx0e1xuXHRcdFx0XHRcdHRpdGxlOiAnT29wcywgc29tZXRoaW5nIHdlbnQgd3JvbmcnLFxuXHRcdFx0XHRcdGRlc2NyaXB0aW9uOiBgTm8gbW9kbWFpbCBjaGFubmVsIGhhcyBzZXQgdXAgZm9yIHRoaXMgc2VydmVyLiBQbGVhc2UgY29udGFjdCBhIG1vZGVyYXRvci5gLFxuXHRcdFx0XHRcdGNvbG9yOiBDb2xvcnMuUmVkXG5cdFx0XHRcdH1cblx0XHRcdF0sXG5cdFx0XHRlcGhlbWVyYWw6IHRydWVcblx0XHR9XG5cdH1cblxuXHRjb25zdCBtYWlsQ2hhbm5lbCA9IGludGVyYWN0aW9uLmd1aWxkPy5jaGFubmVscz8uY2FjaGU/LmdldChtYWlsQ2hhbm5lbElkKVxuXHRpZiAoIW1haWxDaGFubmVsIHx8IG1haWxDaGFubmVsLnR5cGUgIT09IENoYW5uZWxUeXBlLkd1aWxkVGV4dCkge1xuXHRcdGxvZ2dlci5kZWJ1ZyhgSW52YWxpZCBtb2RtYWlsIGNoYW5uZWwgZm9yIGd1aWxkICR7aW50ZXJhY3Rpb24uZ3VpbGRJZH1gKVxuXHRcdHJldHVybiB7XG5cdFx0XHRlbWJlZHM6IFtcblx0XHRcdFx0e1xuXHRcdFx0XHRcdHRpdGxlOiAnT29wcywgc29tZXRoaW5nIHdlbnQgd3JvbmcnLFxuXHRcdFx0XHRcdGRlc2NyaXB0aW9uOiBgSW52YWxpZCBtb2RtYWlsIGNoYW5uZWwgc2V0IHVwIGZvciB0aGlzIHNlcnZlci4gUGxlYXNlIGNvbnRhY3QgYSBtb2RlcmF0b3IuYCxcblx0XHRcdFx0XHRjb2xvcjogQ29sb3JzLlJlZFxuXHRcdFx0XHR9XG5cdFx0XHRdLFxuXHRcdFx0ZXBoZW1lcmFsOiB0cnVlXG5cdFx0fVxuXHR9XG5cblx0Ly8gR2V0IG1lc3NhZ2Ugc3RhdGUgYW5kIHJlYXNvblxuXHRjb25zdCByZWFzb24gPSBpbnRlcmFjdGlvbi5maWVsZHMuZ2V0VGV4dElucHV0VmFsdWUoVGV4dElucHV0cy5SZXBvcnRSZWFzb24uaWQpXG5cdGNvbnN0IG1lc3NhZ2UgPSBnZXRTdGF0ZTxNZXNzYWdlPigncmVwb3J0LW1lc3NhZ2UnLCB7XG5cdFx0bmFtZXNwYWNlOiBpbnRlcmFjdGlvbi5ndWlsZElkICsgJy0nICsgaW50ZXJhY3Rpb24udXNlci5pZFxuXHR9KVxuXG5cdC8vIFZhbGlkYXRlIG1lc3NhZ2Vcblx0aWYgKCFtZXNzYWdlKSB7XG5cdFx0bG9nZ2VyLmRlYnVnKGBObyBtZXNzYWdlIGZvdW5kIGZvciBndWlsZCAke2ludGVyYWN0aW9uLmd1aWxkSWR9YClcblx0XHRyZXR1cm4ge1xuXHRcdFx0ZW1iZWRzOiBbXG5cdFx0XHRcdHtcblx0XHRcdFx0XHR0aXRsZTogJ09vcHMsIHNvbWV0aGluZyB3ZW50IHdyb25nJyxcblx0XHRcdFx0XHRkZXNjcmlwdGlvbjogYE5vIG1lc3NhZ2UgZm91bmQuIFBsZWFzZSB0cnkgYWdhaW4uYCxcblx0XHRcdFx0XHRjb2xvcjogQ29sb3JzLlJlZFxuXHRcdFx0XHR9XG5cdFx0XHRdLFxuXHRcdFx0ZXBoZW1lcmFsOiB0cnVlXG5cdFx0fVxuXHR9XG5cblx0Ly8gU3VibWl0IHJlcG9ydCB0byBtb2RtYWlsIGNoYW5uZWxcblx0YXdhaXQgbWFpbENoYW5uZWwuc2VuZCh7XG5cdFx0ZW1iZWRzOiBbXG5cdFx0XHR7XG5cdFx0XHRcdHRpdGxlOiBgUmVwb3J0IGZyb20gYW5vbnltb3VzIHVzZXJgLFxuXHRcdFx0XHRjb2xvcjogQ29sb3JzLlllbGxvdyxcblx0XHRcdFx0dGh1bWJuYWlsOiB7XG5cdFx0XHRcdFx0dXJsOiBtZXNzYWdlLmF1dGhvci5kaXNwbGF5QXZhdGFyVVJMKClcblx0XHRcdFx0fSxcblx0XHRcdFx0ZmllbGRzOiBbXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0bmFtZTogJ1JlcG9ydGVkIG1lbWJlcicsXG5cdFx0XHRcdFx0XHR2YWx1ZTogbWVzc2FnZS5hdXRob3IudG9TdHJpbmcoKVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0bmFtZTogJ1JlcG9ydGVkIG1lc3NhZ2UnLFxuXHRcdFx0XHRcdFx0dmFsdWU6IG1lc3NhZ2UuY29udGVudFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0bmFtZTogJ1JlYXNvbicsXG5cdFx0XHRcdFx0XHR2YWx1ZTogcmVhc29uXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRuYW1lOiAnTWVzc2FnZSBsaW5rJyxcblx0XHRcdFx0XHRcdHZhbHVlOiBgaHR0cHM6Ly9kaXNjb3JkLmNvbS9jaGFubmVscy8ke2ludGVyYWN0aW9uLmd1aWxkSWR9LyR7bWVzc2FnZS5jaGFubmVsSWR9LyR7bWVzc2FnZS5pZH1gXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRdLFxuXHRcdFx0XHR0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdFx0Zm9vdGVyOiB7XG5cdFx0XHRcdFx0dGV4dDogJ2J5IGFub255bW91cyB1c2VyJ1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XVxuXHR9KVxuXG5cdC8vIExvZyBhY3Rpb24gdG8gbW9kbG9ncyBjaGFubmVsXG5cdGxvZ2dlci5kZWJ1ZyhgUmVwb3J0IHN1Ym1pdHRlZCB0byBtb2RtYWlsIGNoYW5uZWwgZm9yIGd1aWxkICR7aW50ZXJhY3Rpb24uZ3VpbGRJZH1gKVxuXHRsb2dBY3Rpb24oaW50ZXJhY3Rpb24uZ3VpbGRJZCwge1xuXHRcdGVtYmVkczogW1xuXHRcdFx0e1xuXHRcdFx0XHR0aXRsZTogYFJlcG9ydCBmcm9tIGFub255bW91cyB1c2VyYCxcblx0XHRcdFx0Y29sb3I6IENvbG9ycy5ZZWxsb3csXG5cdFx0XHRcdHRodW1ibmFpbDoge1xuXHRcdFx0XHRcdHVybDogbWVzc2FnZS5hdXRob3IuZGlzcGxheUF2YXRhclVSTCgpXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGZpZWxkczogW1xuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdG5hbWU6ICdSZXBvcnRlZCBtZW1iZXInLFxuXHRcdFx0XHRcdFx0dmFsdWU6IG1lc3NhZ2UuYXV0aG9yLnRvU3RyaW5nKClcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdG5hbWU6ICdSZXBvcnRlZCBtZXNzYWdlJyxcblx0XHRcdFx0XHRcdHZhbHVlOiBtZXNzYWdlLmNvbnRlbnRcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdG5hbWU6ICdSZWFzb24nLFxuXHRcdFx0XHRcdFx0dmFsdWU6IHJlYXNvblxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0bmFtZTogJ01lc3NhZ2UgbGluaycsXG5cdFx0XHRcdFx0XHR2YWx1ZTogYGh0dHBzOi8vZGlzY29yZC5jb20vY2hhbm5lbHMvJHtpbnRlcmFjdGlvbi5ndWlsZElkfS8ke21lc3NhZ2UuY2hhbm5lbElkfS8ke21lc3NhZ2UuaWR9YFxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XSxcblx0XHRcdFx0dGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG5cdFx0XHRcdGZvb3Rlcjoge1xuXHRcdFx0XHRcdHRleHQ6ICdieSBhbm9ueW1vdXMgdXNlcidcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdF1cblx0fSlcblxuXHQvLyBDbGVhbiB1cCBhbmQgZm9sbG93IHVwXG5cdHNldFN0YXRlKCdyZXBvcnQtbWVzc2FnZScsIHVuZGVmaW5lZCwge1xuXHRcdG5hbWVzcGFjZTogaW50ZXJhY3Rpb24uZ3VpbGRJZCArICctJyArIGludGVyYWN0aW9uLnVzZXIuaWRcblx0fSlcblx0aW50ZXJhY3Rpb24ucmVwbHkoe1xuXHRcdGNvbnRlbnQ6ICdUaGFuayB5b3UgZm9yIHlvdXIgcmVwb3J0LiBBIG1vZGVyYXRvciB3aWxsIHJldmlldyBpdCBzaG9ydGx5LicsXG5cdFx0ZXBoZW1lcmFsOiB0cnVlXG5cdH0pXG59XG4iXSwibmFtZXMiOlsiTW9kYWxzIiwiVGV4dElucHV0cyIsImxvZ0FjdGlvbiIsImdldFNldHRpbmdzIiwiZ2V0U3RhdGUiLCJsb2dnZXIiLCJzZXRTdGF0ZSIsIkNoYW5uZWxUeXBlIiwiQ29sb3JzIiwiY29uZmlnIiwiZGVzY3JpcHRpb24iLCJpbnRlcmFjdGlvbiIsImlzTW9kYWxTdWJtaXQiLCJjdXN0b21JZCIsIlJlcG9ydE1lc3NhZ2UiLCJpZCIsIm1haWxDaGFubmVsSWQiLCJndWlsZElkIiwiZGVidWciLCJlbWJlZHMiLCJ0aXRsZSIsImNvbG9yIiwiUmVkIiwiZXBoZW1lcmFsIiwibWFpbENoYW5uZWwiLCJndWlsZCIsImNoYW5uZWxzIiwiY2FjaGUiLCJnZXQiLCJ0eXBlIiwiR3VpbGRUZXh0IiwicmVhc29uIiwiZmllbGRzIiwiZ2V0VGV4dElucHV0VmFsdWUiLCJSZXBvcnRSZWFzb24iLCJtZXNzYWdlIiwibmFtZXNwYWNlIiwidXNlciIsInNlbmQiLCJZZWxsb3ciLCJ0aHVtYm5haWwiLCJ1cmwiLCJhdXRob3IiLCJkaXNwbGF5QXZhdGFyVVJMIiwibmFtZSIsInZhbHVlIiwidG9TdHJpbmciLCJjb250ZW50IiwiY2hhbm5lbElkIiwidGltZXN0YW1wIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiZm9vdGVyIiwidGV4dCIsInVuZGVmaW5lZCIsInJlcGx5Il0sIm1hcHBpbmdzIjoiQUFBQSxTQUFTQSxNQUFNLEVBQUVDLFVBQVUsUUFBUSwwQkFBeUI7QUFDNUQsU0FBU0MsU0FBUyxRQUFRLHNCQUFxQjtBQUMvQyxTQUFTQyxXQUFXLFFBQVEseUJBQXdCO0FBQ3BELFNBQVNDLFFBQVEsRUFBRUMsTUFBTSxFQUFFQyxRQUFRLFFBQVEsVUFBUztBQUNwRCxTQUFT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